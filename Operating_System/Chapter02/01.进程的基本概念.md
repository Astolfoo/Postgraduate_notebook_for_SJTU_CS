## 程序的顺序执行及其特征
#### 1.程序的顺序执行

通常把一个应用程序分成若干个程序段，在各程序之间，必须**按照某种先后顺序执行，仅当前一操作（程序段）执行完之后，才可以执行后继操作**。

例如，在进行计算时，总是输入用户的程序和数据，然后进行计算，最后才能打印计算结果。
```
S1:a:=x+y;
S2:b:=a-5;
S3:c:=b+1;
```
程序的顺序执行如下：

![](https://github.com/Soler0502H/Postgraduate_notebook_for_SJTU_Software_Program/blob/master/Images/15.PNG)

#### 2.程序顺序执行时的特征

  - （1）顺序性
  - （2）封闭性
  - （3）可再现性
 
## 前趋图
前趋图（Precedence Graph）是一一个**有向无循环图**，记为DAG（Directed Acyclic Graph），用于描述进程之间执行的前后关系。

图中的每个结点可用于描述一个程序段或进程，乃至一条语句；结点间的有向边则用于表示两个结点之间存在的`偏序(Partial Order)`或`前趋关系(Precedence Relation)“→”。`

→={(Pi, Pj)|Pi must complete before Pj may start}, 如果`(Pi, Pj)∈→`,可写成`Pi→Pj`，称`Pi`是`Pj`的直接前趋，而称Pj是Pi的直接后继。

在前趋图中，把没有前趋的结点称为`初始结点(Initial Node)`，把没有后继的结点称为`终止结点(Final Node)`。

每个结点还具有一个`重量(Weight)`，用于表示该结点所含有的程序量或结点的执行时间。 

如下图中的前趋关系图：

![](https://github.com/Soler0502H/Postgraduate_notebook_for_SJTU_Software_Program/blob/master/Images/16.png)

图中a的前趋关系如下：
```
P1→P2, P1→P3, P1→P4, P2→P5, P3→P5, P4→P6, P4→P7, P5→P8, P6→P8, P7→P9, P8→P9
或表示为：
       P={P1, P2, P3, P4, P5, P6, P7, P8, P9}
→={ (P1, P2), (P1, P3), (P1, P4), (P2, P5), (P3, P5), (P4, P6), (P4, P7),
        (P5, P8), (P6, P8), (P7, P9), (P8, P9)} 
```
注意点：对于前趋图中必须不存在循环，但在b中却存在如下的前趋关系：
```
S2→S3, S3→S2 
```

## 程序的并发执行及其特征
#### 1.程序的并发执行
前趋图如下：

![](https://github.com/Soler0502H/Postgraduate_notebook_for_SJTU_Software_Program/blob/master/Images/17.png)

对于该图存在如下的前趋关系:
```
Ii→Ci，Ii→Ii+1, Ci→Pi, Ci→Ci+1，Pi→Pi+1
```
而`Ii+1`和`Ci`及`Pi-1`是重迭的，亦即在`Pi-1`和`Ci`以及`Ii+1`之间，可以并发执行。 对于具有下述四条语句的程序段：
```
         S1: a∶=x+2
         S2: b∶=y+4
         S3: c∶=a+b
         S4: d∶=c+b 
```
所以四条语句的前趋关系图如下：

![](https://github.com/Soler0502H/Postgraduate_notebook_for_SJTU_Software_Program/blob/master/Images/18.png)

从关系图中，可以看出：S3必须在a和b赋值之后方可执行；S4必须在S3之后执行；但是S1和S2则是可以并行执行，彼此互不依赖。

#### 2.程序并发执行时的特征

  - 间断性
  
        并发程序之间相互制约
        执行——————暂停执行——————执行
  - 失去封闭性
  
        多个程序共享全机资源
        执行状态受外界因素影响
        
  - 不可再现性
  
        程序经过多次执行之后，虽然其执行时的环境和初始条件都相同，但是得到的结果却各不相同。
        
不可再现性的例子：有两个循环程序A和B，它们共享一个变量N。程序A每执行一次时，都要做N∶=N+1操作；程序B每执行一次时， 都要执行Print(N)操作，然后再将N置成“0”。程序A和B以不同的速度运行。 可能出现的三种情况（假设某时刻变量N的值为n）

       (1) N∶=N+1在Print(N)和N∶=0之前，此时得到的N值分别为n+1, n+1, 0。
       (2) N∶=N+1在Print(N)和N∶=0之后，此时得到的N值分别为n, 0, 1。
       (3) N∶=N+1在Print(N)和N∶=0之间，此时得到的N值分别为n, n+1, 0。 

## 进程的特征与状态
在多道程序环境下，程序的执行属于并发执行。此时的程序已经失去了封闭性，而且具有了间断性和不可再现性的特征。
#### 1.进程的特征
  
  - 结构特征
  
  通常的程序是不能并发执行的，为使得程序（数据）能独立运行，就为其配置了进程控制块，即PCB（Process Control Block），而由程序段、相关的数据段和PCB三部分构成了进程实体。
  
        进程 = 进程实体
        创建进程 ＝ 创建进程实体中的ＰＣＢ
        撤销进程　＝　撤销进程实体中的ＰＣＢ
  
  - 多态性
  
  进程的实质就是进程实体的一次执行过程，因此，多态性是进程的最基本的特征。进程实体有生命周期。
  
  - 并发性
  
  并发性是实体的重要特征，也是OS的重要特征，引入进程的目的是为了使得进程实体能和其他的进程并发执行，而程序（没有建立PCB）是不能并发执行的。
  
  - 异步性
  
  －独立性
  
#### 2.进程的定义
对进程，有很多人从不同的角度去进行了定义，但是其中较为典型的定义如下：

    (1) 进程是程序的一次执行。
    (2) 进程是一个程序及其数据在处理机上顺序执行时所发生的活动。
    (3) 进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位。

而在引入了进程实体的概念之后，就可以把传统OS中的进程定义为：**“进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位”**。

#### 3.进程的三种基本状态
进程执行的时间间断性决定了进程可能具有多种状态，事实上，运行中的进程可能具有以下三种状态：

  - 就绪（Ready）状态
    
         当进程已分配到除CPU以外的所有资源之后，只要获得CPU，便可立即执行，进程此时的状态就叫做是就绪状态。
         
         在一个系统中处于就绪状态的进程可能有多个，通常将它排成一个队列，称为就绪队列。
         
  - 执行状态
  
  
  - 阻塞状态










